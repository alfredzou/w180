<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <title>Resistor Calculator</title>
        <link rel="stylesheet" href="web_styles.css"/>
        <style>
        </style>
    </head>
    <body>
        <header>
            <h1>
                Week 4: Resistor Calculator
            </h1>
        </header>
        
        <main>
            <canvas id="resistorCanvas"></canvas>
            <p id="resistanceValue">

            </p>
            
            <script>
                const img = new Image();
                img.src = "/images/resistor_bands.png";
                const canvas = document.getElementById("resistorCanvas");
                const ctx = canvas.getContext("2d");
                
                img.onload = function () {
                    canvas.width = img.width;
                    canvas.height = img.height;

                    ctx.drawImage(img,0,0);
                };

                function getRandomItem(arr) {
                    return arr[Math.floor(Math.random() * arr.length)];
                }
                    
                // const firstSecondBand = {
                //     black: 0
                //     , brown: 1
                //     , red: 2
                //     , orange: 3
                //     , yellow: 4
                //     , green: 5
                //     , blue: 6
                //     , violet: 7
                //     , grey: 8
                //     , white: 9
                // }
                
                // const multiplierBand = {
                //     black: 1
                //     , brown: 10
                //     , red: 100
                //     , orange: 1000
                //     , yellow: 10000
                //     , green: 100000
                //     , blue: 1000000
                //     , violet: 10000000
                //     , grey: 100000000
                //     , white: 1000000000
                //     , gold: 0.1
                //     , silver: 0.01
                // }                    

                // const toleranceBand = {
                //     brown: 1
                //     , red: 2
                //     , orange: 0.05
                //     , yellow: 0.02
                //     , green: 0.5
                //     , blue: 0.25
                //     , violet: 0.1
                //     , grey: 0.01
                //     , gold: 5
                //     , silver: 10
                // }   
                
                const firstSecondBand = ["black", "brown", "red", "orange", "yellow", "green", "blue", "violet", "grey", "white"];
                const multiplierBand = ["black", "brown", "red", "orange", "yellow", "green", "blue", "violet", "grey", "white", "gold", "silver"];
                const toleranceBand = ["brown", "red", "orange", "yellow", "green", "blue", "violet", "grey", "gold", "silver"];

                function randomise_bands(band_number) {
                    if (band_number === 1) {
                        sx = 292
                        sy = 82
                        sw = 30
                        sh = 110
                    }

                    if (band_number === 2) {
                        sx = 333
                        sy = 92
                        sw = 30
                        sh = 90
                    }
                    
                    if (band_number === 3) {
                        sx = 375
                        sy = 92
                        sw = 30
                        sh = 90
                    }

                    if (band_number === 4) {
                        sx = 456
                        sy = 82
                        sw = 30
                        sh = 110
                    }

                    const imageData = ctx.getImageData(sx, sy, sw, sh);
                    const data = imageData.data;
                    for (let i = 0; i < data.length; i += 4) {
                        if (data[i] === 255 && data[i + 1] === 255 && data[i + 2] === 255) {
                            data[i] = 255
                            data[i + 1] = 0
                            data[i + 2] = 0
                        }
                    }
                    
                    ctx.putImageData(imageData, sx, sy)
                    
                    const output_text = document.getElementById('resistanceValue')
                    output_text.textContent = "Resistance: " + 100 
                }
            </script>

            <p>
                <button onclick="randomise_bands(1)">Band 1</button>
                <button onclick="randomise_bands(2)">Band 2</button>
                <button onclick="randomise_bands(3)">Band 3</button>
                <button onclick="randomise_bands(4)">Band 4</button>
            </p>
            <br>

        </main>
        
        <footer>
            <a href="index.html">Return home</a>
        </footer>
    </body>
</html>