<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <title>Minesweeper Quiz II</title>
        <link rel="stylesheet" href="web_styles.css"/>
        <style>
        </style>
    </head>
    <body>
        <header>
            <h1>
                Week 7: Minesweeper Quiz II
            </h1>
        </header>

        <main>
           <canvas id="minesweeperCanvas" height="388" width="388"></canvas>

           <script>
                const canvas = document.getElementById("minesweeperCanvas");
                const ctx = canvas.getContext("2d");

                function createImageGrid(grid) {
                    for (i = 0; i < grid.length; i++) {
                        grid[i] = `/images/MINESWEEPER_${grid[i]}.png`
                    }

                    return grid
                }

                const imageGrid = createImageGrid(
                    [
                        1,2,3,4,5,6,
                        1,2,3,4,5,6,
                        1,2,3,4,5,6,
                        1,2,3,4,5,6,
                        1,2,3,4,5,6,
                        1,2,3,4,5,6,
                    ]
                ) 
                
                for (let i=0; i<imageGrid.length; i++) {
                    const img = new Image()
                    img.src = imageGrid[i]                   

                    img.onload = function () {            
                        const scaleFactor = 0.3  
                        const newWidth = img.width * scaleFactor
                        const newHeight = img.height * scaleFactor

                        const x = newWidth * (i%6)
                        const y = newHeight * Math.floor(i/6)

                        ctx.drawImage(img, x, y, newWidth, newHeight)
                    }
                }             
            </script>
        </main>
        
        <footer>
            <a href="index.html">Return home</a>
        </footer>
    </body>
</html>